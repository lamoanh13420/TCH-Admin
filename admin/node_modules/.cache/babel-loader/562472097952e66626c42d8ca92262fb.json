{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Git\\\\ThueCanHo\\\\60-Realisation\\\\Source-Code\\\\frontend\\\\admin\\\\src\\\\Pages\\\\Location\\\\City\\\\editCity.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditCity() {\n  _s();\n\n  const history = useHistory();\n  const [city, setCity] = useState({\n    cityName: \"\"\n  }); //Khởi tạo useState của city\n\n  const [country, setCountry] = useState({\n    selectedIdCountry: 0,\n    lstCountry: []\n  }); //Khởi tạo useState của country (selectedIdCountry là dùng để lấy value trong <select>)\n\n  const {\n    id\n  } = useParams(); //useParams để lấy id\n\n  useEffect(() => {\n    loadCity();\n  }, []);\n\n  const loadCity = async () => {\n    const resCity = await Axios.get(`http://localhost:33456/api/admin/getIdCity?id=${id}`); // Gọi Api getIdCity + id để lấy Danh sách Thành phố\n\n    const resCountry = await Axios.get(`http://localhost:33456/api/admin/getListCountry`); //  Gọi Api getListCountry để lấy Danh sách Quốc gia cho <select>\n\n    setCity({ ...city,\n      cityName: resCity.data.TEN_THANHPHO\n    }); // Đổ dữ liệu vào cityName (theo id) để hiển thị trong <input value={city.cityName}>\n\n    setCountry({ ...country,\n      selectedIdCountry: resCity.data.ID_QUOCGIA,\n      lstCountry: resCountry.data\n    }); // Đổ dữ liệu vào [selectedIdCountry để hiển thị trong <select value = {country.selectedIdCountry} ,lstCountry để hiển thị Danh sách Quốc gia để chọn 1 Quốc gia] trong <select>  \n  };\n\n  const changeCity = e => {\n    setCity({ ...city,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const changeCountry = e => {\n    setCountry({ ...country,\n      selectedIdCountry: e.target.value\n    });\n  };\n\n  const onSubmit = () => {\n    Axios.post(`http://localhost:33456/api/admin/updateCity?id=${id}`, {\n      \"cityName\": city.cityName,\n      \"idCountry\": country.selectedIdCountry.toString()\n    }).then(res => {\n      console.log(res.data);\n      alert(\"Editing Success!\");\n    });\n    history.push(\"/location\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto shadow p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"C\\u1EADp nh\\u1EADt Th\\xE0nh ph\\u1ED1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"ID: \", id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"T\\xEAn Th\\xE0nh ph\\u1ED1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            name: \"cityName\",\n            onChange: changeCity,\n            value: city.cityName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Qu\\u1ED1c gia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control form-control-lg\",\n            value: country.selectedIdCountry,\n            onChange: changeCountry,\n            children: country.lstCountry.map((val, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: val.ID_QUOCGIA,\n              children: val.TEN_QUOCGIA\n            }, val.ID_QUOCGIA, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning btn-block text-white\",\n          children: \"C\\u1EADp nh\\u1EADt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditCity, \"q+qIjNkJhZjku67Ck9YjdKD8EUc=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditCity;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCity\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Git/ThueCanHo/60-Realisation/Source-Code/frontend/admin/src/Pages/Location/City/editCity.js"],"names":["React","useState","useEffect","useParams","useHistory","Axios","EditCity","history","city","setCity","cityName","country","setCountry","selectedIdCountry","lstCountry","id","loadCity","resCity","get","resCountry","data","TEN_THANHPHO","ID_QUOCGIA","changeCity","e","target","name","value","changeCountry","onSubmit","post","toString","then","res","console","log","alert","push","map","val","index","TEN_QUOCGIA"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport Axios from \"axios\"\r\n\r\nexport default function EditCity() {\r\n    const history = useHistory()   \r\n    const [city, setCity] = useState({cityName: \"\"}) //Khởi tạo useState của city\r\n    const [country, setCountry] = useState({selectedIdCountry: 0, lstCountry: []}) //Khởi tạo useState của country (selectedIdCountry là dùng để lấy value trong <select>)\r\n    const {id} = useParams() //useParams để lấy id\r\n    useEffect(()=>{\r\n        loadCity()\r\n    },[])\r\n    const loadCity = async() => {\r\n        const resCity = await Axios.get(`http://localhost:33456/api/admin/getIdCity?id=${id}`) // Gọi Api getIdCity + id để lấy Danh sách Thành phố\r\n        const resCountry = await Axios.get(`http://localhost:33456/api/admin/getListCountry`) //  Gọi Api getListCountry để lấy Danh sách Quốc gia cho <select>\r\n        setCity({...city, cityName: resCity.data.TEN_THANHPHO}) // Đổ dữ liệu vào cityName (theo id) để hiển thị trong <input value={city.cityName}>\r\n        setCountry({...country, selectedIdCountry: resCity.data.ID_QUOCGIA, lstCountry: resCountry.data}) // Đổ dữ liệu vào [selectedIdCountry để hiển thị trong <select value = {country.selectedIdCountry} ,lstCountry để hiển thị Danh sách Quốc gia để chọn 1 Quốc gia] trong <select>  \r\n    }\r\n    const changeCity = (e) => {\r\n        setCity({...city, [e.target.name]: e.target.value})\r\n    }\r\n    const changeCountry = (e) =>{\r\n        setCountry ({...country, selectedIdCountry: e.target.value})\r\n    }\r\n    const onSubmit = () => {    \r\n        Axios.post(`http://localhost:33456/api/admin/updateCity?id=${id}`, {\r\n            \"cityName\": city.cityName,\r\n            \"idCountry\": country.selectedIdCountry.toString(),\r\n        }).then((res) => {\r\n            console.log(res.data)\r\n            alert(\"Editing Success!\")          \r\n        })\r\n        history.push(\"/location\")\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"w-75 mx-auto shadow p-5\">\r\n                <h2 className=\"text-center mb-4\">Cập nhật Thành phố</h2>\r\n                <form onSubmit={onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>ID: {id}</label>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Tên Thành phố</label>\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"cityName\" onChange={changeCity} value={city.cityName}/> \r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Quốc gia</label>\r\n                        <select className=\"form-control form-control-lg\" value={country.selectedIdCountry} onChange={changeCountry}>\r\n                            {country.lstCountry.map((val, index) =>\r\n                                <option key={val.ID_QUOCGIA} value={val.ID_QUOCGIA}>{val.TEN_QUOCGIA}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"btn btn-warning btn-block text-white\">Cập nhật</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}