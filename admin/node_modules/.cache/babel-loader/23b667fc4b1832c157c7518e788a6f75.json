{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Git\\\\ThueCanHo\\\\60-Realisation\\\\Source-Code\\\\frontend\\\\admin\\\\src\\\\Pages\\\\Location\\\\District\\\\editDistrict.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditDistrict() {\n  _s();\n\n  const history = useHistory();\n  const [district, setDistrict] = useState({\n    districtName: \"\"\n  });\n  const [city, setCity] = useState({\n    selectedIdCity: 0,\n    lstCity: []\n  });\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    loadDistrict();\n  }, []);\n\n  const loadDistrict = async () => {\n    const resDistrict = await Axios.get(`http://localhost:33456/api/admin/getIdDistrict?id=${id}`);\n    const resCity = await Axios.get(`http://localhost:33456/api/admin/getListCity`);\n    setDistrict({ ...district,\n      districtName: resDistrict.data.TEN_QUAN\n    });\n    setCity({ ...city,\n      selectedIdCity: resDistrict.data.ID_THANHPHO,\n      lstCity: resCity.data\n    });\n  };\n\n  const changeDistrict = e => {\n    setDistrict({ ...district,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const changeCity = e => {\n    setCity({ ...city,\n      selectedIdCity: e.target.value\n    });\n  };\n\n  const onSubmit = () => {\n    Axios.post(`http://localhost:33456/api/admin/updateDistrict?id=${id}`, {\n      \"districtName\": district.districtName,\n      \"idCity\": city.selectedIdCity.toString()\n    }).then(res => {\n      console.log(res.data);\n      alert(\"Editing Success!\");\n    });\n    history.push(\"/location\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mx-auto shadow p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"C\\u1EADp nh\\u1EADt Qu\\u1EADn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"ID: \", id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"T\\xEAn Qu\\u1EADn: \", district.districtName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            name: \"districtName\",\n            onChange: changeDistrict,\n            value: district.districtName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Th\\xE0nh ph\\u1ED1: \", city.selectedCity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-control form-control-lg\",\n            value: city.selectedCity,\n            onChange: changeCity,\n            children: city.lstCity.map((val, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: val.ID_THANHPHO,\n              children: val.TEN_THANHPHO\n            }, val.ID_THANHPHO, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning btn-block text-white\",\n          children: \"C\\u1EADp nh\\u1EADt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditDistrict, \"H1pDjYUamCkYZN+RiXmjweLpb/A=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditDistrict;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDistrict\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/Git/ThueCanHo/60-Realisation/Source-Code/frontend/admin/src/Pages/Location/District/editDistrict.js"],"names":["React","useState","useEffect","useParams","useHistory","Axios","EditDistrict","history","district","setDistrict","districtName","city","setCity","selectedIdCity","lstCity","id","loadDistrict","resDistrict","get","resCity","data","TEN_QUAN","ID_THANHPHO","changeDistrict","e","target","name","value","changeCity","onSubmit","post","toString","then","res","console","log","alert","push","selectedCity","map","val","index","TEN_THANHPHO"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport Axios from \"axios\"\r\n\r\nexport default function EditDistrict() {\r\n    const history = useHistory()\r\n    const [district, setDistrict] = useState({districtName: \"\"})\r\n    const [city, setCity] = useState({selectedIdCity: 0, lstCity: []})\r\n    const {id} = useParams()\r\n    useEffect(()=>{\r\n        loadDistrict()\r\n    },[])\r\n    const loadDistrict = async() => {\r\n        const resDistrict = await Axios.get(`http://localhost:33456/api/admin/getIdDistrict?id=${id}`)\r\n        const resCity = await Axios.get(`http://localhost:33456/api/admin/getListCity`)\r\n        setDistrict({...district, districtName: resDistrict.data.TEN_QUAN})\r\n        setCity({...city, selectedIdCity: resDistrict.data.ID_THANHPHO, lstCity: resCity.data})         \r\n    }\r\n    const changeDistrict = (e) => {\r\n        setDistrict({...district, [e.target.name]: e.target.value})\r\n    }\r\n    const changeCity = (e) =>{\r\n        setCity ({...city, selectedIdCity: e.target.value})\r\n    }\r\n    const onSubmit = () => {    \r\n        Axios.post(`http://localhost:33456/api/admin/updateDistrict?id=${id}`, {\r\n            \"districtName\": district.districtName,\r\n            \"idCity\": city.selectedIdCity.toString()\r\n        }).then((res) => {\r\n            console.log(res.data)\r\n            alert(\"Editing Success!\")          \r\n        })\r\n        history.push(\"/location\")\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"w-75 mx-auto shadow p-5\">\r\n                <h2 className=\"text-center mb-4\">Cập nhật Quận</h2>\r\n                <form onSubmit={onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>ID: {id}</label>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Tên Quận: {district.districtName}</label>\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" name=\"districtName\" onChange={changeDistrict} value={district.districtName}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Thành phố: {city.selectedCity}</label>\r\n                        <select className=\"form-control form-control-lg\" value={city.selectedCity} onChange={changeCity}>\r\n                            {city.lstCity.map((val, index) =>\r\n                                <option key={val.ID_THANHPHO} value={val.ID_THANHPHO}>{val.TEN_THANHPHO}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"btn btn-warning btn-block text-white\">Cập nhật</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}